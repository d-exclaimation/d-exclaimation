"use client";

//
//  Signature.tsx
//  d-exclaimation
//
//  Created by d-exclaimation on 17 Dec 2022
//

import { useState } from "react";
import { rc } from "~/next/rc";

/**
 * Clickable signature that plays a writing animation
 */
const Signature = rc<{ className?: string }>(({ className }) => {
  const [isPaused, setPause] = useState(false);

  return (
    <div
      className={className}
      onClick={async () => {
        setPause(true);
        await new Promise<void>((r) => setTimeout(r, 0));
        setPause(false);
      }}
    >
      <svg
        className="w-[20vmin] max-w-[12rem]"
        viewBox="0 0 588 373"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          className="opacity-10"
          id={!isPaused ? "signature" : undefined}
          d="M4.26562 368.895C4.26562 306.137 46.2378 251.079 71.2527 195.838C89.9417 154.566 102.077 110.406 126.983 72.0905C133.325 62.3338 138.62 50.5364 146.405 41.8869C150.969 36.8157 153.568 30.2677 156.949 24.4464C160.055 19.0957 164.591 14.8035 167.571 9.38427C174.851 -3.85071 173.04 10.7583 172.645 17.8667C171.864 31.9143 168.45 46.7679 165.589 60.5957C160.741 84.028 159.389 108.621 156.949 132.418C154.373 157.534 150 182.118 145.85 207.016C143.182 223.025 137.5 225.631 137.5 241.817C137.5 247.393 137.5 252.924 137.5 258.5C137.5 262.415 136.604 276.245 140 272C147.101 263.124 155.103 258.63 162.5 250C178.99 232.554 189.973 210.505 205 191.5C220.121 172.377 232.948 155.033 248.273 136.303C257.907 124.528 269.478 113.902 280.141 103.008C285.038 98.0042 289.284 92.4381 294.252 87.4698C295.158 86.5641 300.454 79.5 302 79.5C305.083 79.5 297.997 82.1452 296.5 84.8401C292.76 89 289 93.131 286 97.5C280.911 102.589 278.5 104.676 271.5 111C267.861 115.759 263.155 120 257.5 125C248.273 135.5 239.899 145.079 232.189 156.5C224.498 164.191 218.512 174.439 211.886 182.721C206.454 189.511 200 198.113 195.159 205C192.122 209.5 192 210.5 188.57 214.864C187 217.247 181.217 225.602 179.807 228C176.959 232.842 173.28 236.883 170.504 241.817C170.504 241.817 160.734 251.1 157.214 255.5C153.485 260.161 166.97 254.493 168.364 253.629C181.013 245.799 194.675 236.552 206.574 227.627C212.458 223.215 231.398 212.133 224.57 214.864C219.676 216.821 215.586 220.36 211.886 224.06C204.475 231.471 195.395 237.245 188.341 245.068C177.695 256.875 165.905 270.384 153.302 280.107C142.712 288.277 155.997 277.162 159.485 274.479C189.532 251.366 223.864 233.395 255.725 212.882C276.209 199.693 297.301 190.073 318.986 179.428C321.653 178.119 337.011 174.83 328.182 174.83C320.065 174.83 309.446 182.626 302.417 186.325C277.316 199.536 253.624 215.007 230.357 231.115C203.339 249.82 176.69 268.987 150.448 288.669C147.308 291.023 127.738 305.279 133.483 311.024C135.736 313.277 145.22 311.817 148.228 311.817C155.944 311.817 163.853 312.292 171.535 311.5C183.935 310.221 196.338 304.495 208.001 300.401C242.434 288.316 276.765 276.695 310.424 262.508C334.966 252.164 359.321 241.593 384.07 231.75C410.436 221.263 435.443 207.967 461.68 197.265C474.713 191.949 489.219 181.3 503.696 180.538C508.054 180.309 510.174 179.098 514.318 178.001C531.874 173.354 547.842 163.197 565.768 159.213C569.388 158.409 571.546 158.07 575.043 156.597C578.162 155.284 586.547 156.339 582.177 153.426"
          stroke="black"
          strokeWidth="8"
          strokeLinecap="round"
        />
      </svg>
    </div>
  );
});

export default Signature;
